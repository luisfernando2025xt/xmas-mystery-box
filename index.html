
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Santa Letter Access</title>
<style>
    body { background:#000; color:#fff; font-family:Courier; text-align:center; padding:40px; }
    input { font-size:20px; padding:10px; width:250px; text-align:center; }
    button { padding:10px 20px; font-size:18px; margin-top:20px; cursor:pointer; }
    #letter { white-space:pre-line; margin-top:30px; font-size:18px; display:none; }
</style>
</head>
<body>

<h2>Enter your code</h2>
<input id="codeInput" placeholder="XMAS-00001">
<button onclick="checkCode()">Unlock Letter</button>

<pre id="letter"></pre>

<script>
async function checkCode() {
    const code = document.getElementById("codeInput").value.trim();
    const res = await fetch("letters.json");
    const letters = await res.json();
    const item = letters.find(x => x.code === code);

    if(!item) { alert("Invalid code."); return; }
    if(item.used) { alert("This code was already used."); return; }

    item.used = true;

    document.getElementById("letter").textContent = item.letter;
    document.getElementById("letter").style.display = "block";
}
</script>

</body>
</html>
